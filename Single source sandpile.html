<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0039)https://www.math.cmu.edu/~wes/sand.html -->
<html style="filter: invert(0);"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Single source sandpile</title>
    <style type="text/css">
 .toolbar
{
    width:      800px;
    height:     33px;
    border:     none;
    color:      black;
    padding:    4px;
    background-color: transparent;
}
 #description{
//            font-size: small;
      text-align: left;
            background-color: #faf8b6;
            border: 1px solid #f5f270;
            padding: 10px;
            width: 680px;
 margin-left: auto;
 margin-right: auto;
        }


/*      #description {
      text-align: center;
      font-size: x-large;
      }
*/
      #content {
      width: 900px;
      margin-right: auto;
      margin-left: auto;
//      border: 1pt solid black;
      }

      #openseadragon1 {
       margin-left: auto;
       margin-right: auto;
}

        h1 {
      float: left;
      z-index: 10000;
      //text-align: center;
//            font-size: large;
//            font-weight: normal;
 //                 background-color: #f0f0f0;
        }
        h1 strong {
            font-weight: bold;
        }
        h2 {
            font-size: small;
            font-weight: bold;
        }
        a {
            text-decoration: none;
//            color: white;
        }
        p {
//            font-size: small;
        }

        p a {
            color: #444304;
            background-color: #F5F270;
            font-weight: bold;
        }
        ul {
            font-size: small;
        }
        ul a {
            color: #253649;
            background-color: #F0F0F0;
        }


#key {
font-size: large; text-align: center;
}

 #key span {
 margin: 0;
padding: 5pt;
 }
 .control {
      background-color: white;
      color: #7777ff;
}
    </style>
    
</head>

<body>

<div id="content">
<div style="float:left;">
<img id="square" width="97px" src="./Single source sandpile_files/s.svg" style="margin-left: auto; margin-right: auto; border: 1px solid black; filter: invert(0);"><br>
<img id="triangular" width="97px" src="./Single source sandpile_files/tris.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="hexagonal" width="97px" src="./Single source sandpile_files/hexs.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="trihexagonal" width="97px" src="./Single source sandpile_files/trihexs.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="elong-triangular" width="97px" src="./Single source sandpile_files/elong-tri.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="snub-square" width="97px" src="./Single source sandpile_files/snub-square.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="trunc-square" width="97px" src="./Single source sandpile_files/trunc-square.svg" style="border: 1px solid white; filter: invert(0);"><br>
<img id="rhombi-trihexagonal" width="97px" src="./Single source sandpile_files/rhombi-trihex.svg" style="border: 1px solid white; filter: invert(0);">
<!--
<img id="snub-hexagonal" width="98px" src="sandpiles/snub-hex.svg"><br>
<img id="trunc-hexagonal" width="98px" src="sandpiles/trunc-hex.svg"><br>-->

</div>



<div id="openseadragon1" style="width: 700px; height: 700px;"><div class="openseadragon-container" style="background: none transparent; border: none; margin: 0px; padding: 0px; position: relative; width: 100%; height: 100%; overflow: hidden; left: 0px; top: 0px; text-align: left;"><div class="openseadragon-canvas" tabindex="0" style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; width: 100%; height: 100%; overflow: hidden; top: 0px; left: 0px; touch-action: none;"><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: static; text-align: left;" dir="ltr"><canvas style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; width: 100%; height: 100%;" width="700" height="700"></canvas></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: static;"></div></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; left: 0px; top: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; right: 0px; top: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; right: 0px; bottom: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; left: 0px; bottom: 0px;"></div></div></div>


<div id="toolbarDiv" class="toolbar" style="width: 700px; margin-left: auto; margin-right: auto; position: relative;">
  <span style="float:right;margin:10px 20px 0 0">
      <a id="togglecolor" href="https://www.math.cmu.edu/~wes/sand.html#togglecolor"><span id="changeto">Mono</span></a>
    | <a id="zoom-in" href="https://www.math.cmu.edu/~wes/sand.html#zoom-in" title="Zoom in" style="display: inline-block; position: relative;">Zoom In</a> 
    | <a id="zoom-out" href="https://www.math.cmu.edu/~wes/sand.html#zoom-out" title="Zoom out" style="display: inline-block; position: relative;">Zoom Out</a>
    | <a id="home" href="https://www.math.cmu.edu/~wes/sand.html#home" title="Go home" style="display: inline-block; position: relative;">Recenter</a> 
    | <a id="full-page" href="https://www.math.cmu.edu/~wes/sand.html#full-page" title="Toggle full page" style="display: inline-block; position: relative;">Full Page</a> 
  </span> 
  <span style="float:left;margin:10px 0 0 20px">
    &lt;&nbsp;
    <a id="fewer" href="https://www.math.cmu.edu/~wes/sand.html#previous-page">Fewer Chips</a> 
    | 
    <b>2<sup><span id="exponent">30</span></sup></b> chips
      |
      <a id="more" href="https://www.math.cmu.edu/~wes/sand.html#next-page">More chips</a> 
      &nbsp;&gt;
    </span>

  
<div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: static; width: 100%; height: 100%;"><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; left: 0px; top: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; right: 0px; top: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; right: 0px; bottom: 0px;"></div><div style="background: none transparent; border: none; margin: 0px; padding: 0px; position: absolute; left: 0px; bottom: 0px;"></div></div></div>
<div id="key" style="color: white;">
  <span id="val0" style="display: inline; background: rgb(18, 72, 249);">0</span><span id="val1" style="display: inline; background: rgb(115, 170, 249);">1</span><span id="val2" style="display: inline; background: rgb(255, 192, 0);">2</span><span id="val3" style="display: inline; background: rgb(124, 0, 0);">3</span><span id="val4" style="display: none;">4</span><span id="val5" style="display: none;">5</span>
</div>





<p id="description"> Shown is the result of the sandpile on the square lattice starting from <b>2<sup><span id="exponent">30</span></sup></b> chips at the origin. <br><br>

Zoom by clicking or using your mouse scrollwheel, and click and drag to move the image.  If you zoom all the way in, look for various periodic patterns produced by the sandpile.<br><br>

Click on "Fewer chips" many times to see how the pile looks when started from a more modest number of chips.  Then see how things change as the number of chips increases...
</p>
</div>


    <script type="text/javascript">
      var sc_project=11557396;
      var sc_invisible=1;
      var sc_download_type="tgz|svg|pdf|zip";
      var sc_security="74731ee3";
      var sc_client_storage="disabled";
      var scJsHost = (("https:" == document.location.protocol) ?
      "https://secure." : "http://www.");
      document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+ "statcounter.com/counter/counter.js'></"+"script>");
    </script><script type="text/javascript" src="./Single source sandpile_files/counter.js"></script>
    
    

<script src="./Single source sandpile_files/openseadragon.js"></script>
<script type="text/javascript">

  var lattice="s";
  var exponent=30;
  var cspace="color";  //going to toggle
  var togglecolor = document.getElementById("togglecolor");
  var fewer = document.getElementById("fewer");
  var more = document.getElementById("more");

  var square = document.getElementById("square");
  var triangular = document.getElementById("triangular");
  var hexagonal = document.getElementById("hexagonal");
  var trihexagonal = document.getElementById("trihexagonal");
  var elongtriangular = document.getElementById("elong-triangular");
  var snubsquare = document.getElementById("snub-square");
  var truncsquare = document.getElementById("trunc-square");
  var rhombitrihexagonal = document.getElementById("rhombi-trihexagonal");


  togglecolor.onclick = function() { return toggleColor(); };
  fewer.onclick = function() { return makefewer(); };
  more.onclick = function() { return makemore(); };
  
  square.onclick=function(){lattice="s"; update();}
  triangular.onclick=function(){lattice="tris"; update();}
  hexagonal.onclick=function(){lattice="hexs"; update();}
  trihexagonal.onclick=function(){lattice="trihexs"; update();}
  elongtriangular.onclick=function(){lattice="elong-tri"; update();}
  snubsquare.onclick=function(){lattice="snub-square"; update();}
  truncsquare.onclick=function(){lattice="trunc-square"; update();}
  rhombitrihexagonal.onclick=function(){lattice="rhombi-trihex"; update();}

  var viewer = OpenSeadragon({
  id: "openseadragon1",
  prefixUrl: "openseadragon/images/",
  zoomInButton:   "zoom-in",
  zoomOutButton:  "zoom-out",
  homeButton:     "home",
  fullPageButton: "full-page",
  nextButton:     "next",
  previousButton: "previous",
  initialPage: 30,
  maxZoomPixelRatio: 20,
  showNavigator: false,
  toolbar: "toolbarDiv",
  preserveViewport: true,
  });

  

  function update(){
   while (exponent>0 && !fileExists("sandpiles/"+lattice+(exponent)+"/"+lattice+(exponent)+cspace+".dzi")){
   exponent--;
  }

  if (lattice=="s"){
  document.getElementById("square").style.border = "1px solid black";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="tris"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid black";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="hexs"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid black";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="trihexs"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid black";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="elong-tri"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid black";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="snub-square"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid black";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }


  else if (lattice=="trunc-square"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid black";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid white";
  }

  else if (lattice=="rhombi-trihex"){
  document.getElementById("square").style.border = "1px solid white";
  document.getElementById("triangular").style.border = "1px solid white";
  document.getElementById("hexagonal").style.border = "1px solid white";
  document.getElementById("trihexagonal").style.border = "1px solid white";
  document.getElementById("elong-triangular").style.border = "1px solid white";
  document.getElementById("snub-square").style.border = "1px solid white";
  document.getElementById("trunc-square").style.border = "1px solid white";
  document.getElementById("rhombi-trihexagonal").style.border = "1px solid black";
  }

  
  document.getElementById("exponent").innerHTML = ( exponent );
  viewer.open("sandpiles/"+lattice+exponent+"/"+lattice+exponent+cspace+".dzi");
  if (lattice=="s" || lattice=="trihexs" || lattice=="rhombi-trihex"){
  document.getElementById("val0").style.display="inline";
  document.getElementById("val1").style.display="inline";
  document.getElementById("val2").style.display="inline";
  document.getElementById("val3").style.display="inline";
  document.getElementById("val4").style.display="none";
  document.getElementById("val5").style.display="none";

  if (cspace=="color"){
  document.getElementById("changeto").innerHTML = "Mono";
  document.getElementById("val0").style.background="rgb(18,72,249)";
  document.getElementById("val1").style.background="rgb(115,170,249)";
  document.getElementById("val2").style.background="rgb(255,192,0)";
  document.getElementById("val3").style.background="rgb(124,0,0)";
  document.getElementById("key").style.color="white";
  } 
  else if (cspace=="mono"){
  document.getElementById("changeto").innerHTML = "Color";
  document.getElementById("val0").style.background="rgb(255,255,255)";
  document.getElementById("val1").style.background="rgb(170,170,170)";
  document.getElementById("val2").style.background="rgb(85,85,85)";
  document.getElementById("val3").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="orange";
  }
  }

  else if (lattice=="tris"){
  document.getElementById("val0").style.display="inline";
  document.getElementById("val1").style.display="inline";
  document.getElementById("val2").style.display="inline";
  document.getElementById("val3").style.display="inline";
  document.getElementById("val4").style.display="inline";
  document.getElementById("val5").style.display="inline";
  if (cspace=="color"){
  document.getElementById("changeto").innerHTML = "Mono";
  document.getElementById("val0").style.background="rgb(18,72,249)";
  document.getElementById("val1").style.background="rgb(115,170,249)";
  document.getElementById("val2").style.background="rgb(255,192,0)";
  document.getElementById("val3").style.background="rgb(110,35,105)";
  document.getElementById("val4").style.background="rgb(124,0,0)";
  document.getElementById("val5").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="white";
  } 
  else if (cspace=="mono"){
  document.getElementById("changeto").innerHTML = "Color";
  document.getElementById("val0").style.background="rgb(255,255,255)";
  document.getElementById("val1").style.background="rgb(204,204,204)";
  document.getElementById("val2").style.background="rgb(153,153,153)";
  document.getElementById("val3").style.background="rgb(102,102,102)";
  document.getElementById("val4").style.background="rgb(51,51,51)";
  document.getElementById("val5").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="orange";
  }
  }


  else if (lattice=="trunc-square"){
  document.getElementById("val0").style.display="inline";
  document.getElementById("val1").style.display="inline";
  document.getElementById("val2").style.display="inline";
  document.getElementById("val3").style.display="none";
  document.getElementById("val4").style.display="none";
  document.getElementById("val5").style.display="none";
  if (cspace=="color"){
  document.getElementById("changeto").innerHTML = "Mono";
  document.getElementById("val0").style.background="rgb(18,72,249)";
  document.getElementById("val1").style.background="rgb(115,170,249)";
  document.getElementById("val2").style.background="rgb(255,192,0)";
  document.getElementById("key").style.color="white";
  } 
  else if (cspace=="mono"){
  document.getElementById("changeto").innerHTML = "Color";
  document.getElementById("val0").style.background="rgb(255,255,255)";
  document.getElementById("val1").style.background="rgb(204,204,204)";
  document.getElementById("val2").style.background="rgb(153,153,153)";
  document.getElementById("key").style.color="orange";
  }
  }



  else if (lattice=="snub-square" || lattice=="elong-tri"){
  document.getElementById("val0").style.display="inline";
  document.getElementById("val1").style.display="inline";
  document.getElementById("val2").style.display="inline";
  document.getElementById("val3").style.display="inline";
  document.getElementById("val4").style.display="inline";
  document.getElementById("val5").style.display="inline";
  if (cspace=="color"){
  document.getElementById("changeto").innerHTML = "Mono";
  document.getElementById("val0").style.background="rgb(18,72,249)";
  document.getElementById("val1").style.background="rgb(115,170,249)";
  document.getElementById("val2").style.background="rgb(255,192,0)";
  document.getElementById("val3").style.background="rgb(124,0,0)";
  document.getElementById("val4").style.background="rgb(110,35,105)";
  document.getElementById("val5").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="white";
  } 
  else if (cspace=="mono"){
  document.getElementById("changeto").innerHTML = "Color";
  document.getElementById("val0").style.background="rgb(255,255,255)";
  document.getElementById("val1").style.background="rgb(204,204,204)";
  document.getElementById("val2").style.background="rgb(153,153,153)";
  document.getElementById("val3").style.background="rgb(102,102,102)";
  document.getElementById("val4").style.background="rgb(51,51,51)";
  document.getElementById("val5").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="orange";
  }
  }


  else if (lattice=="hexs"){
  document.getElementById("val0").style.display="inline";
  document.getElementById("val1").style.display="inline";
  document.getElementById("val2").style.display="inline";
  document.getElementById("val3").style.display="none";
  document.getElementById("val4").style.display="none";
  document.getElementById("val5").style.display="none";
  if (cspace=="color"){
  document.getElementById("changeto").innerHTML = "Mono";
  document.getElementById("val0").style.background="rgb(18,72,249)";
  document.getElementById("val1").style.background="rgb(136,132,124)";
  document.getElementById("val2").style.background="rgb(255,192,0)";
  document.getElementById("key").style.color="white";
  } 
  else if (cspace=="mono"){
  document.getElementById("changeto").innerHTML = "Color";
  document.getElementById("val0").style.background="rgb(255,255,255)";
  document.getElementById("val1").style.background="rgb(127,127,127)";
  document.getElementById("val2").style.background="rgb(0,0,0)";
  document.getElementById("key").style.color="orange";
  }
  }


}
  
  update();


function fileExists(url) {
    if(url){
        var req = new XMLHttpRequest();
        req.open('GET', url, false);
        req.send();
        return req.status==200;
    } else {
        return false;
    }
  }


  function makefewer(){
   if (exponent>1)
    exponent--;
   update();
  }


  function makemore(){
  var url="sandpiles/"+lattice+(exponent+1)+"/"+lattice+(exponent+1)+cspace+".dzi";
  if (fileExists(url)){
  exponent++;
  update();
  }
  }

  function toggleColor(){
  if (cspace=="color"){
  cspace="mono";
  update();
  }
  else if (cspace=="mono"){
  cspace="color";
  update();
  } 
  return false;
  }
  



</script>



</body></html>